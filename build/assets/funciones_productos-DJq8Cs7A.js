document.addEventListener("DOMContentLoaded",function(){const r=document.querySelectorAll("#codigoProducto, #editar_codigo"),c=document.querySelectorAll("#barcode, #barcode_editar");r.forEach((e,n)=>{const t=c[n];e.addEventListener("input",function(){e.value.trim()!==""?JsBarcode(t,e.value,{format:"CODE128",lineColor:"#000",width:2,height:50,displayValue:!0}):t.innerHTML=""})}),document.querySelectorAll(".btn-editar").forEach(e=>{e.addEventListener("click",function(){const t=this.closest("tr").querySelectorAll("td"),d=t[0].textContent.trim(),i=t[2].textContent.trim(),l=parseInt(t[6].textContent.trim()),u=t[7].textContent.trim(),m=t[8].textContent.trim(),s=t[9].textContent.trim(),o=t[10].textContent.trim();document.getElementById("editar_id").value=d,document.getElementById("editar_nombre").value=i,document.getElementById("editar_categoria").value=t[3].dataset.id,document.getElementById("editar_subcategoria").value=t[4].dataset.id,document.getElementById("editar_proveedor").value=t[11].dataset.id,document.getElementById("editar_marca").value=t[5].dataset.id,document.getElementById("editar_stock").value=l,document.getElementById("editar_precio_unitario").value=u,document.getElementById("editar_precio_venta").value=m,document.getElementById("editar_IVA_producto").value=s,document.getElementById("editar_codigo").value=o;const a=document.getElementById("barcode_editar");o.trim()!==""?JsBarcode(a,o,{format:"CODE128",lineColor:"#000",width:2,height:50,displayValue:!0}):a.innerHTML="",document.getElementById("formActualizarProducto").action=`/productos/actualizar/${d}`})})});
